<!doctype html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="google-site-verification" content="pPxmXck9csmpjfOKT55pbx0Xl_ArkohkaYr4fC0fHw4"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css"><meta name="keywords" content="interview,zhaoyinkeji,"><link rel="alternate" href="/atom.xml" title="LincentMa's Blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1"><meta name="description" content="招银科技一面 主要是基础知识，有些细节自己没有掌握牢固，温故知新  基础知识1. 你了解过Java的序列化吗？ Java 对象序列化是 JDK 1.1 中引入的一组开创性特性之一，用于作为一种将 Java 对象的状态转换为字节数组，以便存储或传输的机制，以后，仍可以将字节数组转换回 Java 对象原有的状态。实际上，序列化的思想是 “冻结” 对象状态，传输对象状态（写到磁盘、通过网络传输等等），"><meta name="keywords" content="interview,zhaoyinkeji"><meta property="og:type" content="article"><meta property="og:title" content="招银科技一面"><meta property="og:url" content="http://lincentma.men/“zhaoyinkeji_interview”.html"><meta property="og:site_name" content="LincentMa&#39;s Blog"><meta property="og:description" content="招银科技一面 主要是基础知识，有些细节自己没有掌握牢固，温故知新  基础知识1. 你了解过Java的序列化吗？ Java 对象序列化是 JDK 1.1 中引入的一组开创性特性之一，用于作为一种将 Java 对象的状态转换为字节数组，以便存储或传输的机制，以后，仍可以将字节数组转换回 Java 对象原有的状态。实际上，序列化的思想是 “冻结” 对象状态，传输对象状态（写到磁盘、通过网络传输等等），"><meta property="og:image" content="http://images.cnitblog.com/blog/347002/201502/110912451518649.gif"><meta property="og:updated_time" content="2017-09-14T16:00:06.411Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="招银科技一面"><meta name="twitter:description" content="招银科技一面 主要是基础知识，有些细节自己没有掌握牢固，温故知新  基础知识1. 你了解过Java的序列化吗？ Java 对象序列化是 JDK 1.1 中引入的一组开创性特性之一，用于作为一种将 Java 对象的状态转换为字节数组，以便存储或传输的机制，以后，仍可以将字节数组转换回 Java 对象原有的状态。实际上，序列化的思想是 “冻结” 对象状态，传输对象状态（写到磁盘、通过网络传输等等），"><meta name="twitter:image" content="http://images.cnitblog.com/blog/347002/201502/110912451518649.gif"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"hide",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://lincentma.men/“zhaoyinkeji_interview”.html"><title>招银科技一面 | LincentMa's Blog</title><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-101216364-1","auto"),ga("send","pageview")</script><script type="text/javascript">!function(){var e=document.createElement("script");e.src="//tajs.qq.com/stats?sId=62645334";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div> <a href="https://github.com/lingma1993"><img style="position:absolute;top:0;left:0;border:0" src="https://camo.githubusercontent.com/c6625ac1f3ee0a12250227cf83ce904423abf351/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png"></a><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">LincentMa's Blog</span><span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">编程卖土豆</p></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br> 关于</a></li><li class="menu-item menu-item-mooddatabase"><a href="/mooddatabase/" rel="section"><i class="menu-item-icon fa fa-fw fa-pencil"></i><br> 心情</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br> 搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://lincentma.men/“zhaoyinkeji_interview”.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="LicentMa"><meta itemprop="description" content=""><meta itemprop="image" content="http://orj5hqpmw.bkt.clouddn.com/hexo/image/touxiang.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="LincentMa's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">招银科技一面</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-14T23:57:57+08:00">2017-09-14</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/面试记录/" itemprop="url" rel="index"><span itemprop="name">面试记录</span></a></span></span> <span id="/“zhaoyinkeji_interview”.html" class="leancloud_visitors" data-flag-title="招银科技一面"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数</span><span class="leancloud-visitors-count"></span> <span class="post-meta-divider">|</span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i></span> <span class="post-meta-item-text">字数统计</span> <span title="字数统计">4,741 字</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-clock-o"></i></span> <span class="post-meta-item-text">阅读时长</span> <span title="阅读时长">16 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><script src="/assets/js/APlayer.min.js"></script><h1 id="招银科技一面"><a href="#招银科技一面" class="headerlink" title="招银科技一面"></a>招银科技一面</h1><blockquote><p>主要是基础知识，有些细节自己没有掌握牢固，温故知新</p></blockquote><h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h3 id="1-你了解过Java的序列化吗？"><a href="#1-你了解过Java的序列化吗？" class="headerlink" title="1. 你了解过Java的序列化吗？"></a>1. 你了解过Java的序列化吗？</h3><blockquote><p>Java 对象序列化是 JDK 1.1 中引入的一组开创性特性之一，用于作为一种将 Java 对象的状态转换为字节数组，以便存储或传输的机制，以后，仍可以将字节数组转换回 Java 对象原有的状态。实际上，序列化的思想是 “冻结” 对象状态，传输对象状态（写到磁盘、通过网络传输等等），然后 “解冻” 状态，重新获得可用的 Java 对象。</p></blockquote><h3 id="2-Java序列化的用途以及使用场景？"><a href="#2-Java序列化的用途以及使用场景？" class="headerlink" title="2. Java序列化的用途以及使用场景？"></a>2. Java序列化的用途以及使用场景？</h3><blockquote><p>1.当对象需要被网络传输时<br>2.对象状态需要被持久化时</p><p>围绕根本，就有很多实际的拓展应用，例如：</p><p>tomcat服务器会在服务器关闭时把session序列化存储到tomcat目录一个名为session.ser的文件中，这个过程成为session的钝化，因为有些时候当我们要重新部署项目的时候，有的用户可能在访问，这样做的目的是服务器重启之后tomcat可以反序列化这个session.ser文件，将session对象重新生成出来，用户可以使用部署之前的session进行操作，这个反序列化的过程成为session的活化。</p><p>分布式应用。</p></blockquote><h3 id="3-类序列化需要实现什么接口？"><a href="#3-类序列化需要实现什么接口？" class="headerlink" title="3. 类序列化需要实现什么接口？"></a>3. 类序列化需要实现什么接口？</h3><blockquote><p>Serializable接口。</p></blockquote><h3 id="4-该类实现了这个接口，那么子类可以序列化吗？"><a href="#4-该类实现了这个接口，那么子类可以序列化吗？" class="headerlink" title="4. 该类实现了这个接口，那么子类可以序列化吗？"></a>4. 该类实现了这个接口，那么子类可以序列化吗？</h3><blockquote><p>父类实现了Serializable，子类不需要实现Serializable接口。</p></blockquote><h3 id="5-当序列化后修改serialVersionUID，还可以反序列化回来吗"><a href="#5-当序列化后修改serialVersionUID，还可以反序列化回来吗" class="headerlink" title="5. 当序列化后修改serialVersionUID，还可以反序列化回来吗?"></a>5. 当序列化后修改serialVersionUID，还可以反序列化回来吗?</h3><blockquote><p>序列化的时候系统会把当前类的serialVersionUID 写入序列化的文件中（也可能是其他中介），当反序列化的时候系统会去检测文件中的serialVersionUID，看它是否和当前类的serialVersionUID一致，如果一致就说明序列化的类的版本和当前类的版本是相同的，这个时候可以成功反序列化，否则就说明当前类和序列化的类相比发生了某些变换，比如成员变量的数量，类型可能发生了改变，这个时候就会抛异常，反序列化失败。</p><p>默认情况下，也就是不声明serialVersionUID属性情况下，系统会按当前类的成员变量计算hash值并赋值给serialVersionUID。声明serialVersionUID，可以很大程度上避免反序列化过程的失败。比如当版本升级后，我们可能删除了某个成员变量，也可能增加了一些新的成员变量，这个时候我们的反序列化依然能够成功，程序依然能够最大程度地恢复数据，相反，如果不指定serialVersionUID，程序就会挂掉。当然我们还要考虑另外一种情况，如果类结构发生了非常规性改变，比如修改了类名，类型等，这个时候尽管serialVersionUID验证通过了，但是反序列化过程还是会失败，因为类结构有了毁灭性的改变。</p><p>serialVersionUID一般默认设置为固定的 1L。</p><p>Java序列化允许java类中的一些变化，如果他们可以被忽略的话。一些不会影响到反序列化处理的变化有：</p><ol><li>在类中添加一些新的变量。</li><li>将变量从transient转变为非tansient，对于序列化来说，就像是新加入了一个变量而已。</li><li>将变量从静态的转变为非静态的，对于序列化来说，就也像是新加入了一个变量而已。</li></ol><p>总结，serialVersionUID不一致，反序列化报错。对象序列化后更改值同样也可以读取到，序列化并不保存静态变量，可以接受一些类变量的增加操作不影响反序列化。</p></blockquote><h3 id="6-Java序列化相对于其他数据交换的方式有哪些缺点？"><a href="#6-Java序列化相对于其他数据交换的方式有哪些缺点？" class="headerlink" title="6. Java序列化相对于其他数据交换的方式有哪些缺点？"></a>6. Java序列化相对于其他数据交换的方式有哪些缺点？</h3><blockquote><p>Java序列化写入不仅是完整的类名，也包含整个类的定义，包含所有被引用的类。一旦类定义较多，空间占用大。<br>同时Java序列化为二进制对文件，序列化后内容都是不可读的，这会对系统的排错造成一定的影响。<br>优点是转换效率高。</p><p>JSON以固定的格式，稳定简单的数据结构大大简化了序列化过程。<br>缺点是转换效率低。</p></blockquote><h3 id="7-classloader加载类的机制是什么？"><a href="#7-classloader加载类的机制是什么？" class="headerlink" title="7. classloader加载类的机制是什么？"></a>7. classloader加载类的机制是什么？</h3><blockquote><p>遵循委派双亲加载。通过调用loadClass方法逐级往上传递委派加载请求，当找不到父ClassLoader时调用其findClass方法尝试进行查找和加载，如果当前ClassLoader找不所需的Class,则由其孩子尝试进行查找和加载，如果当前ClassLoader找了所需的Class则将该Class按请求路径逐级返回孩子。</p></blockquote><h3 id="8-你的意思是jar包中的类不一定会全部加载？系统提供-例如JDK、String-的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？"><a href="#8-你的意思是jar包中的类不一定会全部加载？系统提供-例如JDK、String-的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？" class="headerlink" title="8. 你的意思是jar包中的类不一定会全部加载？系统提供(例如JDK、String)的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？"></a>8. 你的意思是jar包中的类不一定会全部加载？系统提供(例如JDK、String)的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？</h3><blockquote><p>Java动态加载。Bootstrap ClassLoader。EXT加载JRE\lib\ext*.jar。拥堵自定义的类加载器的父类为系统加载器。</p><p><img src="http://images.cnitblog.com/blog/347002/201502/110912451518649.gif" alt=""></p><p>JVM本身包含了一个ClassLoader称为Bootstrap ClassLoader，和JVM一样，BootstrapClassLoader是用本地代码实现的，它负责加载核心JavaClass(即所有java.*开头的类)。——Load JRE\lib\rt.jar</p><p>另外JVM还会提供两个ClassLoader，它们都是用Java语言编写的，由BootstrapClassLoader加载;其中Extension ClassLoader负责加载扩展的Javaclass(例如所有javax.*开头的类和存放在JRE的ext目录下的类)</p><p>ApplicationClassLoader负责加载应用程序自身的类。</p></blockquote><h3 id="9-classLoad加载class文件一般分为哪几个阶段？"><a href="#9-classLoad加载class文件一般分为哪几个阶段？" class="headerlink" title="9. classLoad加载class文件一般分为哪几个阶段？"></a>9. classLoad加载class文件一般分为哪几个阶段？</h3><blockquote><p>当使用到某个类，但该类还未初始化，未加载到内存中时会经历类加载、链接、初始化三个步骤完成类的初始化。</p><p>类加载：</p><ul><li>如果一个类加载器收到了类加载的请求，它首先不会自己去尝试加载这个类，而是把这个请求委派给父类加载器去完成，每一个层次的加载器都是如此，因此所有的类加载请求都会传给顶层的启动类加载器。<br>只有当父加载器反馈自己无法完成该加载请求（该加载器的搜索范围中没有找到对应的类）时，子加载器才会尝试自己去加载。</li></ul><p>类的链接：</p><ul><li>当类加载完成后，系统会给为之生成一个对象；随后进入链接阶段，链接阶段负责把类的二进制数据添加到JRE中。三个阶段：</li><li>验证：检验被加载的类是否有正确的内部结构，并和其他类协调一致</li><li>准备：负责为类的类变量分配内存。并设置默认初始值</li><li>解析：将类的二进制数据中的符号引用替换成直接引用</li></ul><p>类的初始化：JVM负责对类进行初始化，主要对类变量进行初始化。在Java中对类变量进行初始值设定有两种方式：</p></blockquote><ul><li>声明类变量是指定初始值</li><li>使用静态代码块为类变量指定初始值</li><li>JVM初始化步骤</li><li>假如这个类还没有被加载和连接，则程序先加载并连接该类</li><li>假如该类的直接父类还没有被初始化，则先初始化其直接父类</li><li>假如类中有初始化语句，则系统依次执行这些初始化语句</li></ul><h3 id="10-数据库试图的作用？视图中的数据是存在视图中的吗？"><a href="#10-数据库试图的作用？视图中的数据是存在视图中的吗？" class="headerlink" title="10. 数据库试图的作用？视图中的数据是存在视图中的吗？"></a>10. 数据库试图的作用？视图中的数据是存在视图中的吗？</h3><blockquote><p>这个回答的不好。</p><p>视图是从一个或几个基本表（或视图）导出的表。它与基本表不同，是一个虚表。数据库只存放视图的定义，而不存放视图对应的数据，这些数据仍存放在原来的基本表中。</p><ol><li>视图能简化用户操作</li><li>视图使用户能以多种角度看待同一数据</li><li>视图对重构数据库提供了一定程度的逻辑独立性</li><li>视图能够对机密数据提供安全保护</li></ol></blockquote><h3 id="11-视图的更新有没有一些限制？"><a href="#11-视图的更新有没有一些限制？" class="headerlink" title="11. 视图的更新有没有一些限制？"></a>11. 视图的更新有没有一些限制？</h3><blockquote><p>没有回答上来</p><p>利用数据库视图进行更新实质上就是对数据库的基本表进行更新。所以视图的更新update命令有很多限制。</p></blockquote><ol><li>若视图是由两个以上基本表导出的，则此视图不允许更新</li><li>若视图的字段来自字段表达式或常数，则不允许对此视图执行INSERT和UPDATE操作，但允许执行DELETE</li><li>若视图字段来自聚集函数，则此视图不允许更新</li><li>若视图定义中含有GROUP BY 子句，则此视图不允许更新</li><li>若视图中含有DISTINCT语句，则此视图不允许更新</li><li>若视图定义中含有嵌套查询，并且内层查询的FROM子句涉及的表也是导出该视图的基本表，则此视图不允许更新</li><li>一个不允许更新的视图上定义的视图也不允许更新</li></ol><h3 id="12-内联结和外联结的区别？"><a href="#12-内联结和外联结的区别？" class="headerlink" title="12. 内联结和外联结的区别？"></a>12. 内联结和外联结的区别？</h3><blockquote><p>内连接查询操作列出与连接条件匹配的数据行，它使用比较运算符比较被连接列的<br>列值。</p><p>外连接，返回到查询结果集合中的不仅包含符合连接条件的行，而且还包括左表(左<br>外连接或左连接))、右表(右外连接或右连接)或两个边接表(全外连接)中的所有数据行。</p><ul><li>left join(左联接) 返回包括左表中的所有记录和右表中联结字段相等的记录；</li><li>right join(右联接) 返回包括右表中的所有记录和左表中联结字段相等的记录。</li></ul></blockquote><h3 id="13-索引的作用"><a href="#13-索引的作用" class="headerlink" title="13. 索引的作用"></a>13. 索引的作用</h3><blockquote><p>优点：</p><ol><li>通过创建唯一性索引，可以保证数据库表中每一行数据的唯一性。</li><li>可以大大加快 数据的检索速度，这也是创建索引的最主要的原因。</li><li>可以加速表和表之间的连接，特别是在实现数据的参考完整性方面特别有意义。</li><li>在使用分组和排序 子句进行数据检索时，同样可以显著减少查询中分组和排序的时间。</li><li>通过使用索引，可以在查询的过程中，使用优化隐藏器，提高系统的性能。</li></ol><p>缺点：</p><ol><li>创建索引和维护索引要耗费时间，这种时间随着数据 量的增加而增加。</li><li>索引需要占物理空间，除了数据表占数据空间之外，每一个索引还要占一定的物理空间，如果要建立聚簇索引，那么需要的空间就会更大。</li><li>当对表中的数据进行增加、删除和修改的时候，索引也要动态的维护，这样就降低了数据的维护速度。</li></ol></blockquote><h3 id="14-索引一定会加快检索速度吗？"><a href="#14-索引一定会加快检索速度吗？" class="headerlink" title="14. 索引一定会加快检索速度吗？"></a>14. 索引一定会加快检索速度吗？</h3><blockquote><ol><li>对于那些在查询中很少使用或者参考的列不应该创建索引。这是因 为，既然这些列很少使用到，因此有索引或者无索引，并不能提高查询速度。相反，由于增加了索引，反而降低了系统的维护速度和增大了空间需求。</li><li>对于那 些只有很少数据值的列也不应该增加索引。这是因为，由于这些列的取值很少，例如人事表的性别列，在查询的结果中，结果集的数据行占了表中数据行的很大比 例，即需要在表中搜索的数据行的比例很大。增加索引，并不能明显加快检索速度。</li><li>对于那些定义为text, image和bit数据类型的列不应该增加索引。这是因为，这些列的数据量要么相当大，要么取值很少。</li><li>当修改性能远远大于检索性能时，不应该创建索 引。这是因为，修改性能和检索性能是互相矛盾的。当增加索引时，会提高检索性能，但是会降低修改性能。当减少索引时，会提高修改性能，降低检索性能。因 此，当修改性能远远大于检索性能时，不应该创建索引。</li></ol></blockquote><h3 id="15-数据库的锁分为哪几种？"><a href="#15-数据库的锁分为哪几种？" class="headerlink" title="15. 数据库的锁分为哪几种？"></a>15. 数据库的锁分为哪几种？</h3><blockquote><p>锁的类型有三种：</p><p>共享（S)锁：多个事务可封锁一个共享页；任何事务都不能修改该页； 通常是该页被读取完毕，S锁立即被释放。</p><p>排它（X)锁：仅允许一个事务封锁此页；其他任何事务必须等到X锁被释放才能对该页进行访问；X锁一直到事务结束才能被释放。</p><p>更新（U)锁：用来预定要对此页施加X锁，它允许其他事务读，但不允许再施加U锁或X锁；当被读取的页将要被更新时，则升级为X锁；U锁一直到事务结束时才能被释放。</p></blockquote><h3 id="16-幻读产生场景？一般出现在什么样的事务中？"><a href="#16-幻读产生场景？一般出现在什么样的事务中？" class="headerlink" title="16. 幻读产生场景？一般出现在什么样的事务中？"></a>16. 幻读产生场景？一般出现在什么样的事务中？</h3><blockquote><p>不可重复读取(Non-Repeatable Reads): A 事务两次读取同一数据，B事务也读取这同一数据，但是 A 事务在第二次读取前B事务已经更新了这一数据。所以对于A事务来说，它第一次和第二次读取到的这一数据可能就不一致了。</p><p>幻读(Phantom Reads): 与不可重复读有点类似，都是两次读取，不同的是 A 事务第一次操作的比如说是全表的数据，此时 B 事务并不是只修改某一具体数据而是插入了一条新数据，而后 A 事务第二次读取这全表的时候就发现比上一次多了一条数据，发生幻觉了。</p><p>数据库事务的隔离级别有4个，由低到高依次为Read uncommitted 读未提交 、Read committed 读提交 、Repeatable read 重复读 、Serializable 序列化 ，这四个级别可以逐个解决脏读 、不可重复读 、幻读 这几类问题。</p><p>幻读出现在前三个级别中。不可重复读出现在前两个级别中。脏读出现在第一个级别中。</p></blockquote><h3 id="17-TCP如何保证重传？"><a href="#17-TCP如何保证重传？" class="headerlink" title="17. TCP如何保证重传？"></a>17. TCP如何保证重传？</h3><blockquote><p>每一次发送一个片段，就开启一个重传计时器。计时器有一个初始值并随时间递减。如果在片段接收到确认之前计时器超时，就重传片段。</p><ol><li><p>放置于重传队列中，计时器开始 包含数据的片段一经发送，片段的一份复制就放在名为重传队列的数据结构中，此时启动重传计时器。因此，在某些时间点，每一个片段都会放在队列里。队列按照重传计时器的剩余时间来排列，因此TCP软件可追踪那几个计时器在最短时间内超时。</p></li><li><p>确认处理 如果在计时器超时之前收到了确认信息，则该片段从重传队列中移除。</p></li><li><p>重传超时 如果在计时器超时之前没有收到确认信息，则发生重传超时，片段自动重传。当然，相比于原片段，对于重传片段并没有更多的保障机制。因此，重传之后该片段还是保留在重传队列里。重传计时器被重启，重新开始倒计时。如果重传之后没有收到确认，则片段会再次重传并重复这一过程。在某些情况下重传也会失败。我们不想要TCP永远重传下去，因此TCP只会重传一定数量的次数，并判断出现故障终止连接。</p></li></ol></blockquote><h3 id="18-域名解析过程？"><a href="#18-域名解析过程？" class="headerlink" title="18. 域名解析过程？"></a>18. 域名解析过程？</h3><blockquote><ol><li>在浏览器中输入www.qq.com域名，操作系统会先检查自己本地的hosts文件是否有这个网址映射关系，如果有，就先调用这个IP地址映射，完成域名解析。</li><li>如果hosts里没有这个域名的映射，则查找本地DNS解析器缓存，是否有这个网址映射关系，如果有，直接返回，完成域名解析。</li><li>如果hosts与本地DNS解析器缓存都没有相应的网址映射关系，首先会找TCP/ip参数中设置的首选DNS服务器，在此我们叫它本地DNS服务器，此服务器收到查询时，如果要查询的域名，包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析，此解析具有权威性。</li><li>如果要查询的域名，不由本地DNS服务器区域解析，但该服务器已缓存了此网址映射关系，则调用这个IP地址映射，完成域名解析，此解析不具有权威性。</li><li>如果本地DNS服务器本地区域文件与缓存解析都失效，则根据本地DNS服务器的设置（是否设置转发器）进行查询，如果未用转发模式，本地DNS就把请求发至13台根DNS，根DNS服务器收到请求后会判断这个域名(.com)是谁来授权管理，并会返回一个负责该顶级域名服务器的一个IP。本地DNS服务器收到IP信息后，将会联系负责.com域的这台服务器。这台负责.com域的服务器收到请求后，如果自己无法解析，它就会找一个管理.com域的下一级DNS服务器地址(qq.com)给本地DNS服务器。当本地DNS服务器收到这个地址后，就会找qq.com域服务器，重复上面的动作，进行查询，直至找到www.qq.com主机。</li><li>如果用的是转发模式，此DNS服务器就会把请求转发至上一级DNS服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把转请求转至上上级，以此循环。不管是本地DNS服务器用是是转发，还是根提示，最后都是把结果返回给本地DNS服务器，由此DNS服务器再返回给客户机。</li></ol><p>从客户端到本地DNS服务器是属于递归查询，而DNS服务器之间就是的交互查询就是迭代查询。</p></blockquote></div><div><div class="my_post_copyright"><script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script><script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script><script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script><link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"><p><span>本文标题:</span><a href="/“zhaoyinkeji_interview”.html">招银科技一面</a></p><p><span>文章作者:</span><a href="/" title="访问 LicentMa 的个人博客">LicentMa</a></p><p><span>发布时间:</span>2017年09月14日 - 23:09</p><p><span>最后更新:</span>2017年09月15日 - 00:09</p><p><span>原始链接:</span><a href="/“zhaoyinkeji_interview”.html" title="招银科技一面">http://lincentma.men/“zhaoyinkeji_interview”.html</a><span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="http://lincentma.men/“zhaoyinkeji_interview”.html" aria-label="复制成功！"></i></span></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p></div><script>var clipboard=new Clipboard(".fa-clipboard");clipboard.on("success",$(function(){$(".fa-clipboard").click(function(){swal({title:"",text:"复制成功",html:!1,timer:500,showConfirmButton:!1})})}))</script></div><div></div><div></div><div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/interview/" rel="tag"><i class="fa fa-tag"></i> interview</a><a href="/tags/zhaoyinkeji/" rel="tag"><i class="fa fa-tag"></i> zhaoyinkeji</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/cheetah_mobile_interview.html" rel="next" title="猎豹移动一面"><i class="fa fa-chevron-left"></i> 猎豹移动一面</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/cheetah_mobile_interview_2.html" rel="prev" title="猎豹移动二面">猎豹移动二面<i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5940fb88d0b69224" async="async"></script></div></div></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC8yOTA4OC81NjU3"></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview"> 站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="http://orj5hqpmw.bkt.clouddn.com/hexo/image/touxiang.jpg" alt="LicentMa"><p class="site-author-name" itemprop="name">LicentMa</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">36</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">9</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">39</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/lingma1993" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="http://weibo.com/lincentma" target="_blank" title="Weibo"><i class="fa fa-fw fa-weibo"></i> Weibo</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-globe"></i> 友链</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="http://blog.csdn.net/qianqianstd" title="阳光暖心的专栏" target="_blank">阳光暖心的专栏</a></li><li class="links-of-blogroll-item"> <a href="http://blog.csdn.net/u012061239" title="小马过河的专栏" target="_blank">小马过河的专栏</a></li></ul></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#招银科技一面"><span class="nav-number">1.</span> <span class="nav-text">招银科技一面</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基础知识"><span class="nav-number">2.</span> <span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-你了解过Java的序列化吗？"><span class="nav-number">2.0.1.</span> <span class="nav-text">1. 你了解过Java的序列化吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Java序列化的用途以及使用场景？"><span class="nav-number">2.0.2.</span> <span class="nav-text">2. Java序列化的用途以及使用场景？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-类序列化需要实现什么接口？"><span class="nav-number">2.0.3.</span> <span class="nav-text">3. 类序列化需要实现什么接口？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-该类实现了这个接口，那么子类可以序列化吗？"><span class="nav-number">2.0.4.</span> <span class="nav-text">4. 该类实现了这个接口，那么子类可以序列化吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-当序列化后修改serialVersionUID，还可以反序列化回来吗"><span class="nav-number">2.0.5.</span> <span class="nav-text">5. 当序列化后修改serialVersionUID，还可以反序列化回来吗?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Java序列化相对于其他数据交换的方式有哪些缺点？"><span class="nav-number">2.0.6.</span> <span class="nav-text">6. Java序列化相对于其他数据交换的方式有哪些缺点？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-classloader加载类的机制是什么？"><span class="nav-number">2.0.7.</span> <span class="nav-text">7. classloader加载类的机制是什么？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-你的意思是jar包中的类不一定会全部加载？系统提供-例如JDK、String-的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？"><span class="nav-number">2.0.8.</span> <span class="nav-text">8. 你的意思是jar包中的类不一定会全部加载？系统提供(例如JDK、String)的类是由哪一个加载器加载的？EXT加载哪些类？如果我自定义一个类加载区，它的父加载区是哪一个？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-classLoad加载class文件一般分为哪几个阶段？"><span class="nav-number">2.0.9.</span> <span class="nav-text">9. classLoad加载class文件一般分为哪几个阶段？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-数据库试图的作用？视图中的数据是存在视图中的吗？"><span class="nav-number">2.0.10.</span> <span class="nav-text">10. 数据库试图的作用？视图中的数据是存在视图中的吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-视图的更新有没有一些限制？"><span class="nav-number">2.0.11.</span> <span class="nav-text">11. 视图的更新有没有一些限制？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12-内联结和外联结的区别？"><span class="nav-number">2.0.12.</span> <span class="nav-text">12. 内联结和外联结的区别？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13-索引的作用"><span class="nav-number">2.0.13.</span> <span class="nav-text">13. 索引的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14-索引一定会加快检索速度吗？"><span class="nav-number">2.0.14.</span> <span class="nav-text">14. 索引一定会加快检索速度吗？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-数据库的锁分为哪几种？"><span class="nav-number">2.0.15.</span> <span class="nav-text">15. 数据库的锁分为哪几种？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16-幻读产生场景？一般出现在什么样的事务中？"><span class="nav-number">2.0.16.</span> <span class="nav-text">16. 幻读产生场景？一般出现在什么样的事务中？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17-TCP如何保证重传？"><span class="nav-number">2.0.17.</span> <span class="nav-text">17. TCP如何保证重传？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18-域名解析过程？"><span class="nav-number">2.0.18.</span> <span class="nav-text">18. 域名解析过程？</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2017</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">LicentMa</span><p>Hosted by <a href="https://pages.coding.me" style="font-weight:700">Coding Pages</a></p></div><div class="powered-by"> 由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info"> 主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div><script type="text/javascript" color="0,0,255" opacity="0.7" zindex="-2" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="true"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script><script type="text/javascript">!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){var r=!1,s=0,a=0,i=n.title.trim(),c=i.toLowerCase(),l=n.content.trim().replace(/<[^>]+>/g,""),h=l.toLowerCase(),p=decodeURIComponent(n.url),u=[],f=[];if(""!=i&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}u=u.concat(e(t,c,!1)),f=f.concat(e(t,h,!1))}),(u.length>0||f.length>0)&&(r=!0,s=u.length+f.length)),r){[u,f].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});function d(e,o,n,r){for(var s=r[r.length-1],i=s.position,c=s.word,l=[],h=0;i+c.length<=n&&0!=r.length;){c===t&&h++,l.push({position:i,length:c.length});var p=i+c.length;for(r.pop();0!=r.length&&(s=r[r.length-1],i=s.position,c=s.word,p>i);)r.pop()}return a+=h,{hits:l,start:o,end:n,searchTextCount:h}}var g=[];0!=u.length&&g.push(d(0,0,i.length,u));for(var v=[];0!=f.length;){var $=f[f.length-1],C=$.position,m=$.word,x=C-20,w=C+80;x<0&&(x=0),w<C+m.length&&(w=C+m.length),w>l.length&&(w=l.length),v.push(d(0,x,w,f))}v.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var y=parseInt("1");y>=0&&(v=v.slice(0,y));function T(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var b="";0!=g.length?b+="<li><a href='"+p+"' class='search-result-title'>"+T(i,g[0])+"</a>":b+="<li><a href='"+p+"' class='search-result-title'>"+i+"</a>",v.forEach(function(t){b+="<a href='"+p+'\'><p class="search-result">'+T(l,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:a,hitCount:s,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),!1===isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){27===t.which&&$(".search-popup").is(":visible")&&onPopupClose()})</script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script><script>AV.initialize("v8Qfzuz0qVjHi4M0HKmmcq8F-gzGzoHsz","rTcK7RKKd6DaBKOUPBKsAMKD")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){if(0!==e.length){for(c=0;c<e.length;c++){var t=e[c],i=t.get("url"),s=t.get("time"),l=document.getElementById(i);$(l).find(".leancloud-visitors-count").text(s)}for(var c=0;c<n.length;c++){var i=n[c],l=document.getElementById(i),r=$(l).find(".leancloud-visitors-count");""==r.text()&&r.text(0)}}else o.find(".leancloud-visitors-count").text(0)}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var s=new e,l=new AV.ACL;l.setPublicReadAccess(!0),l.setPublicWriteAccess(!0),s.setACL(l),s.set("title",o),s.set("url",n),s.set("time",1),s.save(null,{success:function(e){$(document.getElementById(n)).find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script><script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>